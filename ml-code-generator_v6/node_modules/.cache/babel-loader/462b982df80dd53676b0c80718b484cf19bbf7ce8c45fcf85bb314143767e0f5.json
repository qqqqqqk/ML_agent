{"ast":null,"code":"var _jsxFileName = \"d:\\\\University\\\\Group\\\\ml-code-generator_v5\\\\ml-code-generator_v5\\\\src\\\\App.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ClipLoader } from 'react-spinners';\nimport './App.css';\nimport { uploadDataset, getDatasets, deleteDataset, generateCode, generateCodeRealtime, connectWebSocket, disconnectWebSocket, getDatasetPreview } from './services/api';\nimport { VscFile, VscFileCode, VscJson, VscFilePdf, VscMarkdown } from 'react-icons/vsc';\nimport IndicatorDisplay from './components/IndicatorDisplay';\nimport ResultEditor from './components/ResultEditor';\nimport ProcessPanel from './components/ProcessPanel';\nimport DatasetPanel from './components/DatasetPanel';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst evaluationOptions = ['Accuracy', 'Efficiency', 'Interpretability', 'Robustness'];\nfunction App() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [tab, setTab] = useState('code');\n  const [selectedEval, setSelectedEval] = useState([]);\n  const [taskDesc, setTaskDesc] = useState('');\n  const [solution, setSolution] = useState('');\n  const [evalDesc, setEvalDesc] = useState('');\n  const [showPanels, setShowPanels] = useState(true);\n  const [showOutcomeButton, setShowOutcomeButton] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n\n  // 添加新的状态\n  const [showProcessPanel, setShowProcessPanel] = useState(false);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  // 实时生成相关状态\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationProgress, setGenerationProgress] = useState({\n    currentStep: 0,\n    totalSteps: 0,\n    status: 'idle',\n    // idle, planning, generating, checking, error, complete\n    message: '',\n    plans: [],\n    currentStepCode: '',\n    accumulatedCode: '',\n    errors: []\n  });\n  const [realTimeSteps, setRealTimeSteps] = useState([]);\n\n  // 新增：中间区域tab切换\n  const [centerTab, setCenterTab] = useState('process'); // 'process' or 'dataset'\n\n  // WebSocket连接管理\n  useEffect(() => {\n    // 组件挂载时连接WebSocket\n    connectWebSocket();\n\n    // 组件卸载时断开连接\n    return () => {\n      disconnectWebSocket();\n    };\n  }, []);\n\n  // 处理评估方法多选下拉\n  const toggleEvalDropdown = () => setEvalDropdownOpen(v => !v);\n  const handleEvalOptionClick = opt => {\n    setSelectedEval(prev => prev.includes(opt) ? prev.filter(o => o !== opt) : [...prev, opt]);\n  };\n\n  // 辅助函数：构建文件树结构（只将有扩展名的叶子节点视为文件）\n  function buildFileTree(files) {\n    const root = {\n      name: 'Loaded Files',\n      type: 'folder',\n      children: []\n    };\n    if (files && files.length > 0) {\n      files.forEach(file => {\n        root.children.push({\n          id: file._id,\n          name: file.name,\n          type: 'file',\n          icon: '📄',\n          // Reverted to the original simple text icon\n          file: file\n        });\n      });\n    }\n    return root;\n  }\n\n  // VSCode 风格的文件树\n  function VSCodeFileTree({\n    node,\n    onSelect,\n    selectedFile,\n    level = 0\n  }) {\n    _s();\n    const [isOpen, setIsOpen] = useState(level === 0);\n    if (node.type === 'folder') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-tree-node\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `file-tree-item folder ${isOpen ? 'open' : ''}`,\n          style: {\n            paddingLeft: `${level * 20}px`\n          },\n          onClick: () => setIsOpen(!isOpen),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"folder-icon\",\n            children: isOpen ? '▼' : '▶'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), node.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), isOpen && node.children.map(child => /*#__PURE__*/_jsxDEV(VSCodeFileTree, {\n          node: child,\n          onSelect: onSelect,\n          selectedFile: selectedFile,\n          level: level + 1\n        }, child.id || child.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this);\n    }\n\n    // It's a file\n    const isSelected = selectedFile && node.id === selectedFile._id;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `file-tree-item file ${isSelected ? 'selected' : ''}`,\n      style: {\n        paddingLeft: `${level * 20}px`\n      },\n      onClick: () => onSelect(node.file),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"file-icon\",\n        children: node.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"file-name\",\n        children: node.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this);\n  }\n\n  // 修改 handleRunClick 函数\n  _s(VSCodeFileTree, \"BuNHppxR5ziNAh2gIhYNOtQxxEs=\");\n  const handleRunClick = async () => {\n    setShowOutcomeButton(true);\n    setShowProcessPanel(true);\n    setIsAnimating(true);\n    setIsGenerating(true);\n    try {\n      // 检查是否输入了任务描述\n      if (!taskDesc.trim()) {\n        alert('请输入任务描述');\n        setIsAnimating(false);\n        setIsGenerating(false);\n        return;\n      }\n\n      // -- 开始修改 --\n      // 1. 收集所有数据集的路径\n      const datasetPaths = datasetFiles.map(f => f.filePath).filter(Boolean);\n      if (datasetPaths.length === 0) {\n        alert('没有找到有效的数据集路径，请重新上传文件。');\n        setIsAnimating(false);\n        setIsGenerating(false);\n        return;\n      }\n\n      // 2. 创建数据集描述，供AI理解\n      const datasetsDescription = datasetFiles.map(f => `- 文件名: ${f.name}\\n  路径: ${f.filePath}`).join('\\n');\n\n      // 3. 准备包含所有数据集信息的任务描述\n      const taskPrompt = `任务: ${taskDesc}\n\n可用的数据集如下:\n${datasetsDescription}\n\n请生成代码来处理所有这些列出的数据集。\n\n---\n其他信息:\n评估方法: ${selectedEval.join(', ')}\n评估描述: ${evalDesc}\n参考解决方案: ${solution}`;\n      // -- 结束修改 --\n\n      console.log('Generating code for multiple datasets:', {\n        taskPrompt,\n        datasetPaths\n      });\n\n      // 重置生成进度\n      setGenerationProgress({\n        currentStep: 0,\n        totalSteps: 0,\n        status: 'planning',\n        message: '正在分析任务并制定执行计划...',\n        plans: [],\n        currentStepCode: '',\n        accumulatedCode: '',\n        errors: []\n      });\n      setRealTimeSteps([]);\n\n      // 使用实时代码生成，传递路径数组\n      const sessionId = generateCodeRealtime(taskPrompt, datasetPaths, {\n        onStarted: data => {\n          console.log('Generation started:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'planning',\n            message: '正在分析任务并制定执行计划...'\n          }));\n        },\n        onPlanning: data => {\n          console.log('Planning step:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'planning',\n            message: data.message\n          }));\n        },\n        onPlanningComplete: data => {\n          console.log('Planning complete:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'planning-complete',\n            message: data.message,\n            plans: data.plans,\n            totalSteps: data.plans.length\n          }));\n        },\n        onStepStarted: data => {\n          console.log('Step started:', data);\n          console.log('Step data details:', {\n            stepId: data.stepId,\n            stepName: data.stepName,\n            message: data.message,\n            fullData: data\n          });\n          setGenerationProgress(prev => ({\n            ...prev,\n            currentStep: data.stepId,\n            status: 'generating',\n            message: data.message\n          }));\n\n          // 添加新的步骤到实时步骤列表\n          setRealTimeSteps(prev => [...prev, {\n            id: data.stepId,\n            name: data.stepName || `Step ${data.stepId}`,\n            // 添加fallback\n            status: 'generating',\n            code: '',\n            message: data.message,\n            showCode: false // 添加showCode属性，默认不显示代码\n          }]);\n        },\n        onStepComplete: data => {\n          console.log('Step complete:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'step-complete',\n            message: data.message,\n            currentStepCode: data.code,\n            // 只显示当前步骤的代码\n            accumulatedCode: data.accumulatedCode\n          }));\n\n          // 更新实时步骤 - 只显示当前步骤的代码\n          setRealTimeSteps(prev => prev.map(step => step.id === data.stepId ? {\n            ...step,\n            status: 'complete',\n            code: data.code,\n            message: data.message,\n            showCode: false\n          } : step));\n\n          // 更新生成的代码 - 显示累积的代码\n          setGenerationProgress(prev => ({\n            ...prev,\n            accumulatedCode: data.accumulatedCode\n          }));\n        },\n        onStepChecking: data => {\n          console.log('Step checking:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'checking',\n            message: data.message\n          }));\n\n          // 更新实时步骤状态\n          setRealTimeSteps(prev => prev.map(step => step.id === data.stepId ? {\n            ...step,\n            status: 'checking',\n            message: data.message\n          } : step));\n        },\n        onStepError: data => {\n          console.log('Step error:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'error',\n            message: data.message,\n            errors: [...prev.errors, {\n              stepId: data.stepId,\n              error: data.error\n            }]\n          }));\n\n          // 更新实时步骤状态\n          setRealTimeSteps(prev => prev.map(step => step.id === data.stepId ? {\n            ...step,\n            status: 'error',\n            message: data.message,\n            error: data.error\n          } : step));\n        },\n        onStepRevised: data => {\n          console.log('Step revised:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'revised',\n            message: data.message,\n            accumulatedCode: data.revisedCode\n          }));\n\n          // 更新实时步骤状态 - 只更新当前步骤的代码\n          setRealTimeSteps(prev => prev.map(step => step.id === data.stepId ? {\n            ...step,\n            status: 'revised',\n            code: data.revisedCode,\n            message: data.message\n          } : step));\n\n          // 更新生成的代码 - 显示修正后的累积代码\n          setGenerationProgress(prev => ({\n            ...prev,\n            accumulatedCode: data.revisedCode\n          }));\n        },\n        onStepChecked: data => {\n          console.log('Step checked:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'checked',\n            message: data.message\n          }));\n\n          // 更新实时步骤状态\n          setRealTimeSteps(prev => prev.map(step => step.id === data.stepId ? {\n            ...step,\n            status: 'checked',\n            message: data.message\n          } : step));\n        },\n        onFinalRefining: data => {\n          console.log('Final refining:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'refining',\n            message: data.message\n          }));\n        },\n        onComplete: data => {\n          console.log('Generation complete:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'complete',\n            message: data.message,\n            accumulatedCode: data.finalCode\n          }));\n\n          // 结束动画\n          setIsAnimating(false);\n          setIsGenerating(false);\n\n          // 不设置 visibleSteps，保持 realTimeSteps 的显示\n          // setVisibleSteps(['STEP1', 'STEP2', 'ERROR_DEBUG', 'FINALLY']);\n        },\n        onError: data => {\n          console.error('Generation error:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'error',\n            message: data.message\n          }));\n          setIsAnimating(false);\n          setIsGenerating(false);\n          alert('代码生成过程中出现错误: ' + data.error);\n        }\n      });\n    } catch (error) {\n      console.error('Error generating code:', error);\n      alert('生成代码时发生错误: ' + error.message);\n      setIsAnimating(false);\n      setIsGenerating(false);\n    }\n  };\n\n  // 修改 handleOutcomeClick 函数\n  const handleOutcomeClick = () => {\n    setShowProcessPanel(false);\n    setShowOutcomeButton(false);\n    // 切换到代码标签页\n    setTab('code');\n  };\n  const handleDownloadMetrics = () => {\n    // For now, just download the placeholder text as a simple file\n    const metricsText = '暂无评价指标'; // Replace with actual metrics data when available\n    const element = document.createElement('a');\n    const file = new Blob([metricsText], {\n      type: 'text/plain'\n    });\n    element.href = URL.createObjectURL(file);\n    element.download = 'evaluation_metrics.txt'; // Suggest a .txt extension\n    document.body.appendChild(element); // Required for Firefox\n    element.click();\n    document.body.removeChild(element); // Clean up\n  };\n  const parseGeneratedCode = code => {\n    // 将代码按行分割\n    const lines = code.split('\\n');\n\n    // 初始化步骤内容\n    const steps = {\n      step1: [],\n      step2: [],\n      errorDebug: [],\n      finally: []\n    };\n\n    // 解析代码并分类到不同步骤\n    let currentStep = 'step1';\n    let currentContent = [];\n    lines.forEach(line => {\n      const trimmedLine = line.trim();\n      if (!trimmedLine) return;\n\n      // 根据代码内容判断属于哪个步骤\n      if (trimmedLine.startsWith('import') || trimmedLine.includes('import ')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'step1';\n        currentContent.push(trimmedLine);\n      } else if (trimmedLine.includes('preprocess') || trimmedLine.includes('StandardScaler') || trimmedLine.includes('train_test_split') || trimmedLine.includes('feature_') || trimmedLine.includes('data') || trimmedLine.includes('dataset')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'step2';\n        currentContent.push(trimmedLine);\n      } else if (trimmedLine.includes('try') || trimmedLine.includes('except') || trimmedLine.includes('error') || trimmedLine.includes('warning') || trimmedLine.includes('debug')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'errorDebug';\n        currentContent.push(trimmedLine);\n      } else if (trimmedLine.includes('print') || trimmedLine.includes('evaluate') || trimmedLine.includes('metrics') || trimmedLine.includes('result') || trimmedLine.includes('output') || trimmedLine.includes('save')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'finally';\n        currentContent.push(trimmedLine);\n      } else {\n        currentContent.push(trimmedLine);\n      }\n    });\n\n    // 添加最后的内容\n    if (currentContent.length > 0) {\n      steps[currentStep].push(currentContent.join('\\n'));\n    }\n    return steps;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      minHeight: '100vh',\n      minWidth: 1200,\n      height: '100vh',\n      overflowY: 'auto',\n      overflowX: 'hidden',\n      alignItems: 'flex-start',\n      padding: '32px',\n      display: 'flex',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-panel\",\n      style: {\n        padding: '0 22px',\n        minWidth: 320,\n        maxWidth: 400,\n        display: 'flex',\n        flexDirection: 'column',\n        height: 'auto',\n        fontSize: 17,\n        boxSizing: 'border-box',\n        justifyContent: 'flex-start',\n        flexShrink: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: 28,\n          fontSize: 28,\n          textAlign: 'center',\n          fontWeight: 700\n        },\n        children: \"Input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-section\",\n          style: {\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 15\n            },\n            children: \"Task Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"[Natural language input]\",\n            value: taskDesc,\n            onChange: e => setTaskDesc(e.target.value),\n            style: {\n              minHeight: 28,\n              fontSize: 14,\n              padding: 4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-section\",\n          style: {\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 15\n            },\n            children: \"Evaluation Method\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'relative',\n              width: '100%',\n              marginBottom: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-selected\",\n              style: {\n                cursor: 'pointer',\n                padding: '6px 10px',\n                border: '1px solid #e0e0e0',\n                borderRadius: 6,\n                background: '#fafbfc',\n                fontSize: 14\n              },\n              onClick: toggleEvalDropdown,\n              children: ['Default choice', /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  float: 'right',\n                  color: '#888'\n                },\n                children: evalDropdownOpen ? '▲' : '▼'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this), evalDropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-list\",\n              style: {\n                position: 'absolute',\n                left: 0,\n                right: 0,\n                top: '110%',\n                zIndex: 10,\n                background: '#fff',\n                border: '1px solid #e0e0e0',\n                borderRadius: 6,\n                boxShadow: '0 2px 8px rgba(0,0,0,0.04)',\n                padding: 6\n              },\n              children: evaluationOptions.map(opt => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dropdown-item\",\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  cursor: 'pointer',\n                  padding: '2px 4px',\n                  fontSize: 14,\n                  color: selectedEval.includes(opt) ? '#0056d6' : '#222'\n                },\n                onClick: () => handleEvalOptionClick(opt),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: opt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this), selectedEval.includes(opt) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#1976d2',\n                    fontWeight: 'bold',\n                    marginLeft: 8\n                  },\n                  children: \"\\u2714\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 54\n                }, this)]\n              }, opt, true, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"[Natural language input for evaluation method]\",\n            value: evalDesc || '',\n            onChange: e => setEvalDesc(e.target.value),\n            style: {\n              minHeight: 28,\n              fontSize: 14,\n              padding: 4,\n              marginTop: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DatasetPanel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-section\",\n          style: {\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 15\n            },\n            children: \"Solution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"[Natural language input]\",\n            value: solution,\n            onChange: e => setSolution(e.target.value),\n            style: {\n              minHeight: 28,\n              fontSize: 14,\n              padding: 4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"run-btn\",\n        onClick: handleRunClick,\n        style: {\n          height: 44,\n          fontSize: 20,\n          marginTop: 24,\n          width: '100%'\n        },\n        disabled: isGenerating,\n        children: isGenerating ? 'GENERATING...' : 'RUN'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-content-panel\",\n      style: {\n        background: '#fff',\n        borderRadius: 12,\n        boxShadow: '0 2px 12px rgba(0,0,0,0.06)',\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: 0,\n        height: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-header\",\n        style: {\n          marginBottom: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: centerTab === 'process' ? 'active' : '',\n          onClick: () => setCenterTab('process'),\n          children: \"\\u8FC7\\u7A0B\\u9762\\u677F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: centerTab === 'dataset' ? 'active' : '',\n          onClick: () => setCenterTab('dataset'),\n          children: \"\\u6570\\u636E\\u96C6\\u9884\\u89C8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-content\",\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          minHeight: 0\n        },\n        children: centerTab === 'process' ? /*#__PURE__*/_jsxDEV(ProcessPanel, {\n          isGenerating: isGenerating,\n          generationProgress: generationProgress,\n          realTimeSteps: realTimeSteps,\n          onOutcomeClick: handleOutcomeClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: !datasetFiles.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u7B49\\u5F85\\u6570\\u636E\\u96C6\\u4E0A\\u4F20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u8BF7\\u5728\\u5DE6\\u4FA7\\u70B9\\u51FB\\\"Browse files\\\"\\u4E0A\\u4F20\\u6570\\u636E\\u96C6\\u6587\\u4EF6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-list-section\",\n              style: {\n                height: 220,\n                overflowY: 'auto',\n                minHeight: 120\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"File list\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 575,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-tree\",\n                children: /*#__PURE__*/_jsxDEV(VSCodeFileTree, {\n                  node: buildFileTree(datasetFiles),\n                  onSelect: handleFileSelect,\n                  selectedFile: selectedFile\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 19\n            }, this), filePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"data-info-section\",\n              style: {\n                height: 420,\n                overflowY: 'auto',\n                minHeight: 220\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"basic-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Basic information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"File name: \", filePreview.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Size: \", filePreview.size]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Format: \", filePreview.format]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Number of rows: \", filePreview.rows]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Number of columns: \", filePreview.columns]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Update time: \", filePreview.updateTime]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Ratio of missing value: \", filePreview.missingRatio]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"data-preview\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Data preview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: filePreview.previewData && filePreview.previewData.length > 0 && (() => {\n                        const first = filePreview.previewData[0];\n                        if (first && typeof first === 'object' && !Array.isArray(first)) {\n                          return Object.keys(first).map(key => /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: key\n                          }, key, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 601,\n                            columnNumber: 37\n                          }, this));\n                        } else {\n                          return /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Value\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 604,\n                            columnNumber: 42\n                          }, this);\n                        }\n                      })()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: filePreview.previewData && filePreview.previewData.length > 0 ? (() => {\n                      const first = filePreview.previewData[0];\n                      if (first && typeof first === 'object' && !Array.isArray(first)) {\n                        return filePreview.previewData.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: Object.keys(first).map(key => /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: row && row[key] !== undefined ? String(row[key]) : ''\n                          }, key, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 616,\n                            columnNumber: 39\n                          }, this))\n                        }, idx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 614,\n                          columnNumber: 35\n                        }, this));\n                      } else {\n                        return filePreview.previewData.map((val, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: val !== undefined && val !== null ? String(val) : ''\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 622,\n                            columnNumber: 49\n                          }, this)\n                        }, idx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 622,\n                          columnNumber: 35\n                        }, this));\n                      }\n                    })() : /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: 3,\n                        style: {\n                          textAlign: 'center',\n                          color: '#aaa'\n                        },\n                        children: \"No data\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 626,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 626,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 609,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-panel\",\n      style: {\n        padding: '0 22px',\n        flex: 1,\n        minWidth: 400,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'stretch',\n        boxSizing: 'border-box'\n      },\n      children: showProcessPanel ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"process-panel\",\n        style: {\n          background: '#fff',\n          padding: '20px',\n          borderRadius: '12px',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n          height: '100%',\n          display: 'flex',\n          flexDirection: 'column',\n          overflowY: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: 20,\n            fontSize: 24,\n            textAlign: 'center',\n            fontWeight: 700,\n            position: 'sticky',\n            top: 0,\n            background: '#fff',\n            zIndex: 10,\n            padding: '0 0 8px 0',\n            marginTop: 0\n          },\n          children: \"Process Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: '#ccc',\n            fontSize: '1.2rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: tab === 'code' ? 'active' : '',\n            onClick: () => setTab('code'),\n            children: \"code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: tab === 'display' ? 'active' : '',\n            onClick: () => setTab('display'),\n            children: \"dispaly\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-content\",\n          style: {\n            flex: 1,\n            display: 'flex',\n            flexDirection: 'column'\n          },\n          children: tab === 'code' ? /*#__PURE__*/_jsxDEV(ResultEditor, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(IndicatorDisplay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 7\n    }, this), showOutcomeButton && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOutcomeClick,\n      className: \"run-btn\",\n      disabled: isGenerating,\n      style: {\n        position: 'fixed',\n        bottom: '60px',\n        right: '120px',\n        width: 'auto',\n        padding: '0 30px',\n        height: '44px',\n        fontSize: '20px',\n        marginTop: 0,\n        zIndex: 1000,\n        opacity: isGenerating ? 0.6 : 1,\n        cursor: isGenerating ? 'not-allowed' : 'pointer'\n      },\n      children: \"OUTCOME\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 479,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"pe5rJndc34ogr3Aw/SySlgg7BLY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ClipLoader","uploadDataset","getDatasets","deleteDataset","generateCode","generateCodeRealtime","connectWebSocket","disconnectWebSocket","getDatasetPreview","VscFile","VscFileCode","VscJson","VscFilePdf","VscMarkdown","IndicatorDisplay","ResultEditor","ProcessPanel","DatasetPanel","jsxDEV","_jsxDEV","Fragment","_Fragment","evaluationOptions","App","_s2","_s","$RefreshSig$","tab","setTab","selectedEval","setSelectedEval","taskDesc","setTaskDesc","solution","setSolution","evalDesc","setEvalDesc","showPanels","setShowPanels","showOutcomeButton","setShowOutcomeButton","dragActive","setDragActive","showProcessPanel","setShowProcessPanel","isAnimating","setIsAnimating","isGenerating","setIsGenerating","generationProgress","setGenerationProgress","currentStep","totalSteps","status","message","plans","currentStepCode","accumulatedCode","errors","realTimeSteps","setRealTimeSteps","centerTab","setCenterTab","toggleEvalDropdown","setEvalDropdownOpen","v","handleEvalOptionClick","opt","prev","includes","filter","o","buildFileTree","files","root","name","type","children","length","forEach","file","push","id","_id","icon","VSCodeFileTree","node","onSelect","selectedFile","level","isOpen","setIsOpen","className","style","paddingLeft","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","child","isSelected","handleRunClick","trim","alert","datasetPaths","datasetFiles","f","filePath","Boolean","datasetsDescription","join","taskPrompt","console","log","sessionId","onStarted","data","onPlanning","onPlanningComplete","onStepStarted","stepId","stepName","fullData","code","showCode","onStepComplete","step","onStepChecking","onStepError","error","onStepRevised","revisedCode","onStepChecked","onFinalRefining","onComplete","finalCode","onError","handleOutcomeClick","handleDownloadMetrics","metricsText","element","document","createElement","Blob","href","URL","createObjectURL","download","body","appendChild","click","removeChild","parseGeneratedCode","lines","split","steps","step1","step2","errorDebug","finally","currentContent","line","trimmedLine","startsWith","minHeight","minWidth","height","overflowY","overflowX","alignItems","padding","display","position","maxWidth","flexDirection","fontSize","boxSizing","justifyContent","flexShrink","marginBottom","textAlign","fontWeight","flex","gap","placeholder","value","onChange","e","target","width","cursor","border","borderRadius","background","float","color","evalDropdownOpen","left","right","top","zIndex","boxShadow","marginLeft","marginTop","disabled","onOutcomeClick","handleFileSelect","filePreview","size","format","rows","columns","updateTime","missingRatio","previewData","first","Array","isArray","Object","keys","key","row","idx","undefined","String","val","colSpan","bottom","opacity","_c","$RefreshReg$"],"sources":["d:/University/Group/ml-code-generator_v5/ml-code-generator_v5/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ClipLoader } from 'react-spinners';\nimport './App.css';\nimport { uploadDataset, getDatasets, deleteDataset, generateCode, generateCodeRealtime, connectWebSocket, disconnectWebSocket, getDatasetPreview } from './services/api';\nimport { VscFile, VscFileCode, VscJson, VscFilePdf, VscMarkdown } from 'react-icons/vsc';\nimport IndicatorDisplay from './components/IndicatorDisplay';\nimport ResultEditor from './components/ResultEditor';\nimport ProcessPanel from './components/ProcessPanel';\nimport DatasetPanel from './components/DatasetPanel';\n\nconst evaluationOptions = [\n  'Accuracy',\n  'Efficiency',\n  'Interpretability',\n  'Robustness',\n];\n\nfunction App() {\n  const [tab, setTab] = useState('code');\n  const [selectedEval, setSelectedEval] = useState([]);\n  const [taskDesc, setTaskDesc] = useState('');\n  const [solution, setSolution] = useState('');\n  const [evalDesc, setEvalDesc] = useState('');\n  const [showPanels, setShowPanels] = useState(true);\n  const [showOutcomeButton, setShowOutcomeButton] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n  \n  // 添加新的状态\n  const [showProcessPanel, setShowProcessPanel] = useState(false);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  // 实时生成相关状态\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationProgress, setGenerationProgress] = useState({\n    currentStep: 0,\n    totalSteps: 0,\n    status: 'idle', // idle, planning, generating, checking, error, complete\n    message: '',\n    plans: [],\n    currentStepCode: '',\n    accumulatedCode: '',\n    errors: []\n  });\n  const [realTimeSteps, setRealTimeSteps] = useState([]);\n\n  // 新增：中间区域tab切换\n  const [centerTab, setCenterTab] = useState('process'); // 'process' or 'dataset'\n\n  // WebSocket连接管理\n  useEffect(() => {\n    // 组件挂载时连接WebSocket\n    connectWebSocket();\n    \n    // 组件卸载时断开连接\n    return () => {\n      disconnectWebSocket();\n    };\n  }, []);\n\n  // 处理评估方法多选下拉\n  const toggleEvalDropdown = () => setEvalDropdownOpen(v => !v);\n  const handleEvalOptionClick = (opt) => {\n    setSelectedEval(prev => prev.includes(opt) ? prev.filter(o => o !== opt) : [...prev, opt]);\n  };\n\n  // 辅助函数：构建文件树结构（只将有扩展名的叶子节点视为文件）\n  function buildFileTree(files) {\n    const root = { name: 'Loaded Files', type: 'folder', children: [] };\n    if (files && files.length > 0) {\n    files.forEach(file => {\n        root.children.push({\n          id: file._id,\n          name: file.name,\n          type: 'file',\n          icon: '📄', // Reverted to the original simple text icon\n          file: file \n        });\n      });\n    }\n    return root;\n  }\n\n  // VSCode 风格的文件树\n  function VSCodeFileTree({ node, onSelect, selectedFile, level = 0 }) {\n    const [isOpen, setIsOpen] = useState(level === 0);\n\n    if (node.type === 'folder') {\n      return (\n        <div className=\"file-tree-node\">\n          <div\n            className={`file-tree-item folder ${isOpen ? 'open' : ''}`}\n            style={{ paddingLeft: `${level * 20}px` }}\n            onClick={() => setIsOpen(!isOpen)}\n          >\n            <span className=\"folder-icon\">{isOpen ? '▼' : '▶'}</span>\n            {node.name}\n          </div>\n          {isOpen && node.children.map(child => (\n            <VSCodeFileTree key={child.id || child.name} node={child} onSelect={onSelect} selectedFile={selectedFile} level={level + 1} />\n          ))}\n        </div>\n      );\n    }\n\n    // It's a file\n    const isSelected = selectedFile && node.id === selectedFile._id;\n      return (\n        <div\n        className={`file-tree-item file ${isSelected ? 'selected' : ''}`}\n        style={{ paddingLeft: `${level * 20}px` }}\n          onClick={() => onSelect(node.file)}\n        >\n        <span className=\"file-icon\">{node.icon}</span>\n        <span className=\"file-name\">{node.name}</span>\n        </div>\n      );\n  }\n\n  // 修改 handleRunClick 函数\n  const handleRunClick = async () => {\n    setShowOutcomeButton(true);\n    setShowProcessPanel(true);\n    setIsAnimating(true);\n    setIsGenerating(true);\n    \n    try {\n      // 检查是否输入了任务描述\n      if (!taskDesc.trim()) {\n        alert('请输入任务描述');\n        setIsAnimating(false);\n        setIsGenerating(false);\n        return;\n      }\n\n      // -- 开始修改 --\n      // 1. 收集所有数据集的路径\n      const datasetPaths = datasetFiles.map(f => f.filePath).filter(Boolean);\n      if (datasetPaths.length === 0) {\n        alert('没有找到有效的数据集路径，请重新上传文件。');\n        setIsAnimating(false);\n        setIsGenerating(false);\n        return;\n      }\n\n      // 2. 创建数据集描述，供AI理解\n      const datasetsDescription = datasetFiles\n        .map(f => `- 文件名: ${f.name}\\n  路径: ${f.filePath}`)\n        .join('\\n');\n\n      // 3. 准备包含所有数据集信息的任务描述\n      const taskPrompt = `任务: ${taskDesc}\n\n可用的数据集如下:\n${datasetsDescription}\n\n请生成代码来处理所有这些列出的数据集。\n\n---\n其他信息:\n评估方法: ${selectedEval.join(', ')}\n评估描述: ${evalDesc}\n参考解决方案: ${solution}`;\n      // -- 结束修改 --\n      \n      console.log('Generating code for multiple datasets:', { taskPrompt, datasetPaths });\n      \n      // 重置生成进度\n      setGenerationProgress({\n        currentStep: 0,\n        totalSteps: 0,\n        status: 'planning',\n        message: '正在分析任务并制定执行计划...',\n        plans: [],\n        currentStepCode: '',\n        accumulatedCode: '',\n        errors: []\n      });\n      setRealTimeSteps([]);\n      \n      // 使用实时代码生成，传递路径数组\n      const sessionId = generateCodeRealtime(taskPrompt, datasetPaths, {\n        onStarted: (data) => {\n          console.log('Generation started:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'planning',\n            message: '正在分析任务并制定执行计划...'\n          }));\n        },\n        \n        onPlanning: (data) => {\n          console.log('Planning step:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'planning',\n            message: data.message\n          }));\n        },\n        \n        onPlanningComplete: (data) => {\n          console.log('Planning complete:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'planning-complete',\n            message: data.message,\n            plans: data.plans,\n            totalSteps: data.plans.length\n          }));\n        },\n        \n        onStepStarted: (data) => {\n          console.log('Step started:', data);\n          console.log('Step data details:', {\n            stepId: data.stepId,\n            stepName: data.stepName,\n            message: data.message,\n            fullData: data\n          });\n          setGenerationProgress(prev => ({\n            ...prev,\n            currentStep: data.stepId,\n            status: 'generating',\n            message: data.message\n          }));\n          \n          // 添加新的步骤到实时步骤列表\n          setRealTimeSteps(prev => [...prev, {\n            id: data.stepId,\n            name: data.stepName || `Step ${data.stepId}`, // 添加fallback\n            status: 'generating',\n            code: '',\n            message: data.message,\n            showCode: false // 添加showCode属性，默认不显示代码\n          }]);\n        },\n        \n        onStepComplete: (data) => {\n          console.log('Step complete:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'step-complete',\n            message: data.message,\n            currentStepCode: data.code, // 只显示当前步骤的代码\n            accumulatedCode: data.accumulatedCode\n          }));\n          \n          // 更新实时步骤 - 只显示当前步骤的代码\n          setRealTimeSteps(prev => prev.map(step => \n            step.id === data.stepId \n              ? { ...step, status: 'complete', code: data.code, message: data.message, showCode: false }\n              : step\n          ));\n      \n          // 更新生成的代码 - 显示累积的代码\n          setGenerationProgress(prev => ({\n            ...prev,\n            accumulatedCode: data.accumulatedCode\n          }));\n        },\n        \n        onStepChecking: (data) => {\n          console.log('Step checking:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'checking',\n            message: data.message\n          }));\n          \n          // 更新实时步骤状态\n          setRealTimeSteps(prev => prev.map(step => \n            step.id === data.stepId \n              ? { ...step, status: 'checking', message: data.message }\n              : step\n          ));\n        },\n        \n        onStepError: (data) => {\n          console.log('Step error:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'error',\n            message: data.message,\n            errors: [...prev.errors, { stepId: data.stepId, error: data.error }]\n          }));\n          \n          // 更新实时步骤状态\n          setRealTimeSteps(prev => prev.map(step => \n            step.id === data.stepId \n              ? { ...step, status: 'error', message: data.message, error: data.error }\n              : step\n          ));\n        },\n        \n        onStepRevised: (data) => {\n          console.log('Step revised:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'revised',\n            message: data.message,\n            accumulatedCode: data.revisedCode\n          }));\n          \n          // 更新实时步骤状态 - 只更新当前步骤的代码\n          setRealTimeSteps(prev => prev.map(step => \n            step.id === data.stepId \n              ? { ...step, status: 'revised', code: data.revisedCode, message: data.message }\n              : step\n          ));\n          \n          // 更新生成的代码 - 显示修正后的累积代码\n          setGenerationProgress(prev => ({\n            ...prev,\n            accumulatedCode: data.revisedCode\n          }));\n        },\n        \n        onStepChecked: (data) => {\n          console.log('Step checked:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'checked',\n            message: data.message\n          }));\n      \n          // 更新实时步骤状态\n          setRealTimeSteps(prev => prev.map(step => \n            step.id === data.stepId \n              ? { ...step, status: 'checked', message: data.message }\n              : step\n          ));\n        },\n        \n        onFinalRefining: (data) => {\n          console.log('Final refining:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'refining',\n            message: data.message\n          }));\n        },\n        \n        onComplete: (data) => {\n          console.log('Generation complete:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'complete',\n            message: data.message,\n            accumulatedCode: data.finalCode\n          }));\n          \n          // 结束动画\n            setIsAnimating(false);\n          setIsGenerating(false);\n          \n          // 不设置 visibleSteps，保持 realTimeSteps 的显示\n          // setVisibleSteps(['STEP1', 'STEP2', 'ERROR_DEBUG', 'FINALLY']);\n        },\n        \n        onError: (data) => {\n          console.error('Generation error:', data);\n          setGenerationProgress(prev => ({\n            ...prev,\n            status: 'error',\n            message: data.message\n          }));\n          \n          setIsAnimating(false);\n          setIsGenerating(false);\n          \n          alert('代码生成过程中出现错误: ' + data.error);\n        }\n      });\n      \n    } catch (error) {\n      console.error('Error generating code:', error);\n      alert('生成代码时发生错误: ' + error.message);\n      setIsAnimating(false);\n      setIsGenerating(false);\n    }\n  };\n\n  // 修改 handleOutcomeClick 函数\n  const handleOutcomeClick = () => {\n    setShowProcessPanel(false);\n    setShowOutcomeButton(false);\n    // 切换到代码标签页\n    setTab('code');\n  };\n\n  const handleDownloadMetrics = () => {\n    // For now, just download the placeholder text as a simple file\n    const metricsText = '暂无评价指标'; // Replace with actual metrics data when available\n    const element = document.createElement('a');\n    const file = new Blob([metricsText], {type: 'text/plain'});\n    element.href = URL.createObjectURL(file);\n    element.download = 'evaluation_metrics.txt'; // Suggest a .txt extension\n    document.body.appendChild(element); // Required for Firefox\n    element.click();\n    document.body.removeChild(element); // Clean up\n  };\n\n  const parseGeneratedCode = (code) => {\n    // 将代码按行分割\n    const lines = code.split('\\n');\n    \n    // 初始化步骤内容\n    const steps = {\n      step1: [],\n      step2: [],\n      errorDebug: [],\n      finally: []\n    };\n    \n    // 解析代码并分类到不同步骤\n    let currentStep = 'step1';\n    let currentContent = [];\n    \n    lines.forEach(line => {\n      const trimmedLine = line.trim();\n      if (!trimmedLine) return;\n      \n      // 根据代码内容判断属于哪个步骤\n      if (trimmedLine.startsWith('import') || trimmedLine.includes('import ')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'step1';\n        currentContent.push(trimmedLine);\n      } else if (trimmedLine.includes('preprocess') || \n                 trimmedLine.includes('StandardScaler') || \n                 trimmedLine.includes('train_test_split') ||\n                 trimmedLine.includes('feature_') ||\n                 trimmedLine.includes('data') ||\n                 trimmedLine.includes('dataset')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'step2';\n        currentContent.push(trimmedLine);\n      } else if (trimmedLine.includes('try') || \n                 trimmedLine.includes('except') || \n                 trimmedLine.includes('error') ||\n                 trimmedLine.includes('warning') ||\n                 trimmedLine.includes('debug')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'errorDebug';\n        currentContent.push(trimmedLine);\n      } else if (trimmedLine.includes('print') || \n                 trimmedLine.includes('evaluate') || \n                 trimmedLine.includes('metrics') ||\n                 trimmedLine.includes('result') ||\n                 trimmedLine.includes('output') ||\n                 trimmedLine.includes('save')) {\n        if (currentContent.length > 0) {\n          steps[currentStep].push(currentContent.join('\\n'));\n          currentContent = [];\n        }\n        currentStep = 'finally';\n        currentContent.push(trimmedLine);\n      } else {\n        currentContent.push(trimmedLine);\n      }\n    });\n    \n    // 添加最后的内容\n    if (currentContent.length > 0) {\n      steps[currentStep].push(currentContent.join('\\n'));\n    }\n    \n    return steps;\n  };\n\n  return (\n    <div className=\"container\" style={{ minHeight: '100vh', minWidth: 1200, height: '100vh', overflowY: 'auto', overflowX: 'hidden', alignItems: 'flex-start', padding: '32px', display: 'flex', position: 'relative' }}>\n      {/* 左侧输入区 - 始终可见 */}\n      <div className=\"left-panel\" style={{ padding: '0 22px', minWidth: 320, maxWidth: 400, display: 'flex', flexDirection: 'column', height: 'auto', fontSize: 17, boxSizing: 'border-box', justifyContent: 'flex-start', flexShrink: 0 }}>\n        <h2 style={{ marginBottom: 28, fontSize: 28, textAlign: 'center', fontWeight: 700 }}>Input</h2>\n        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: 24 }}>\n          <div className=\"input-section\" style={{ gap: 8 }}>\n            <label style={{ fontSize: 15 }}>Task Description</label>\n            <textarea\n              placeholder=\"[Natural language input]\"\n              value={taskDesc}\n              onChange={e => setTaskDesc(e.target.value)}\n              style={{ minHeight: 28, fontSize: 14, padding: 4 }}\n            />\n          </div>\n          <div className=\"input-section\" style={{ gap: 8 }}>\n            <label style={{ fontSize: 15 }}>Evaluation Method</label>\n            <div style={{ position: 'relative', width: '100%', marginBottom: 4 }}>\n              <div\n                className=\"dropdown-selected\"\n                style={{ cursor: 'pointer', padding: '6px 10px', border: '1px solid #e0e0e0', borderRadius: 6, background: '#fafbfc', fontSize: 14 }}\n                onClick={toggleEvalDropdown}\n              >\n                {'Default choice'}\n                <span style={{ float: 'right', color: '#888' }}>{evalDropdownOpen ? '▲' : '▼'}</span>\n              </div>\n              {evalDropdownOpen && (\n                <div className=\"dropdown-list\" style={{ position: 'absolute', left: 0, right: 0, top: '110%', zIndex: 10, background: '#fff', border: '1px solid #e0e0e0', borderRadius: 6, boxShadow: '0 2px 8px rgba(0,0,0,0.04)', padding: 6 }}>\n                  {evaluationOptions.map(opt => (\n                    <div\n                      key={opt}\n                      className=\"dropdown-item\"\n                      style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', cursor: 'pointer', padding: '2px 4px', fontSize: 14, color: selectedEval.includes(opt) ? '#0056d6' : '#222' }}\n                      onClick={() => handleEvalOptionClick(opt)}\n                    >\n                      <span>{opt}</span>\n                      {selectedEval.includes(opt) && <span style={{ color: '#1976d2', fontWeight: 'bold', marginLeft: 8 }}>✔</span>}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n            <textarea\n              placeholder=\"[Natural language input for evaluation method]\"\n              value={evalDesc || ''}\n              onChange={e => setEvalDesc(e.target.value)}\n              style={{ minHeight: 28, fontSize: 14, padding: 4, marginTop: 2 }}\n            />\n          </div>\n          <DatasetPanel />\n          <div className=\"input-section\" style={{ gap: 8 }}>\n            <label style={{ fontSize: 15 }}>Solution</label>\n            <textarea\n              placeholder=\"[Natural language input]\"\n              value={solution}\n              onChange={e => setSolution(e.target.value)}\n              style={{ minHeight: 28, fontSize: 14, padding: 4 }}\n            />\n          </div>\n        </div>\n        <button className=\"run-btn\" onClick={handleRunClick} style={{ height: 44, fontSize: 20, marginTop: 24, width: '100%' }} disabled={isGenerating}>\n          {isGenerating ? 'GENERATING...' : 'RUN'}\n        </button>\n      </div>\n\n      {/* 中间区域 */}\n      <div className=\"center-content-panel\" style={{background: '#fff', borderRadius: 12, boxShadow: '0 2px 12px rgba(0,0,0,0.06)', flex: 1, display: 'flex', flexDirection: 'column', minHeight: 0, height: '100%'}}>\n        <div className=\"tab-header\" style={{marginBottom: 0}}>\n          <span\n            className={centerTab === 'process' ? 'active' : ''}\n            onClick={() => setCenterTab('process')}\n          >过程面板</span>\n          <span\n            className={centerTab === 'dataset' ? 'active' : ''}\n            onClick={() => setCenterTab('dataset')}\n          >数据集预览</span>\n        </div>\n        <div className=\"tab-content\" style={{flex: 1, display: 'flex', flexDirection: 'column', minHeight: 0}}>\n          {centerTab === 'process' ? (\n            <ProcessPanel\n              isGenerating={isGenerating}\n              generationProgress={generationProgress}\n              realTimeSteps={realTimeSteps}\n              onOutcomeClick={handleOutcomeClick}\n            />\n          ) : (\n            <>\n              {!datasetFiles.length ? (\n                <div className=\"empty-state\">\n                  <div className=\"empty-message\">\n                    <h3>等待数据集上传</h3>\n                    <p>请在左侧点击\"Browse files\"上传数据集文件</p>\n                  </div>\n                </div>\n              ) : (\n                <>\n                  <div className=\"file-list-section\" style={{ height: 220, overflowY: 'auto', minHeight: 120 }}>\n                    <h3>File list</h3>\n                    <div className=\"file-tree\">\n                      <VSCodeFileTree node={buildFileTree(datasetFiles)} onSelect={handleFileSelect} selectedFile={selectedFile} />\n                    </div>\n                  </div>\n                  {filePreview && (\n                    <div className=\"data-info-section\" style={{ height: 420, overflowY: 'auto', minHeight: 220 }}>\n                      <div className=\"basic-info\">\n                        <h4>Basic information</h4>\n                        <div>File name: {filePreview.name}</div>\n                        <div>Size: {filePreview.size}</div>\n                        <div>Format: {filePreview.format}</div>\n                        <div>Number of rows: {filePreview.rows}</div>\n                        <div>Number of columns: {filePreview.columns}</div>\n                        <div>Update time: {filePreview.updateTime}</div>\n                        <div>Ratio of missing value: {filePreview.missingRatio}</div>\n                      </div>\n                      <div className=\"data-preview\">\n                        <h4>Data preview</h4>\n                        <table>\n                          <thead>\n                            <tr>\n                              {filePreview.previewData && filePreview.previewData.length > 0 && (() => {\n                                const first = filePreview.previewData[0];\n                                if (first && typeof first === 'object' && !Array.isArray(first)) {\n                                  return Object.keys(first).map((key) => (\n                                    <th key={key}>{key}</th>\n                                  ));\n                                } else {\n                                  return <th>Value</th>;\n                                }\n                              })()}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {filePreview.previewData && filePreview.previewData.length > 0 ? (() => {\n                              const first = filePreview.previewData[0];\n                              if (first && typeof first === 'object' && !Array.isArray(first)) {\n                                return filePreview.previewData.map((row, idx) => (\n                                  <tr key={idx}>\n                                    {Object.keys(first).map((key) => (\n                                      <td key={key}>{row && row[key] !== undefined ? String(row[key]) : ''}</td>\n                                    ))}\n                                  </tr>\n                                ));\n                              } else {\n                                return filePreview.previewData.map((val, idx) => (\n                                  <tr key={idx}><td>{val !== undefined && val !== null ? String(val) : ''}</td></tr>\n                                ));\n                              }\n                            })() : (\n                              <tr><td colSpan={3} style={{textAlign: 'center', color: '#aaa'}}>No data</td></tr>\n                            )}\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  )}\n                </>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* 右侧代码与结果展示区 */}\n      <div className=\"right-panel\" style={{ \n        padding: '0 22px', \n        flex: 1, \n        minWidth: 400, \n        display: 'flex', \n        flexDirection: 'column', \n        justifyContent: 'stretch', \n        boxSizing: 'border-box' \n      }}>\n        {showProcessPanel ? (\n          <div className=\"process-panel\" style={{\n            background: '#fff', padding: '20px', borderRadius: '12px',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.1)', height: '100%',\n            display: 'flex', flexDirection: 'column', overflowY: 'hidden'\n          }}>\n            <h2 style={{ \n              marginBottom: 20, fontSize: 24, textAlign: 'center', fontWeight: 700,\n              position: 'sticky', top: 0, background: '#fff', zIndex: 10,\n              padding: '0 0 8px 0', marginTop: 0\n            }}>Process Details</h2>\n            <div style={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#ccc', fontSize: '1.2rem' }}>\n              {/* This area is intentionally left blank during generation */}\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"tab-header\">\n              <span\n                className={tab === 'code' ? 'active' : ''}\n                onClick={() => setTab('code')}\n              >code</span>\n              <span\n                className={tab === 'display' ? 'active' : ''}\n                onClick={() => setTab('display')}\n              >dispaly</span>\n            </div>\n            <div className=\"tab-content\" style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n              {tab === 'code' ? (\n                <ResultEditor />\n              ) : (\n                <IndicatorDisplay />\n              )}\n            </div>\n          </>\n        )}\n      </div>\n\n      {/* OUTCOME 按钮 */}\n      {showOutcomeButton && (\n        <button \n          onClick={handleOutcomeClick}\n          className=\"run-btn\"\n          disabled={isGenerating}\n          style={{\n            position: 'fixed',\n            bottom: '60px',\n            right: '120px',\n            width: 'auto',\n            padding: '0 30px',\n            height: '44px',\n            fontSize: '20px',\n            marginTop: 0,\n            zIndex: 1000,\n            opacity: isGenerating ? 0.6 : 1,\n            cursor: isGenerating ? 'not-allowed' : 'pointer'\n          }}\n        >\n          OUTCOME\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}